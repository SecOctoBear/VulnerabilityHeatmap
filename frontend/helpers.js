import moment from "moment";

export function logToUI(element, message) {
  element.innerHTML += message + "<br>";
}

// IMPORTANT, read this:
//  https://momentjscom.readthedocs.io/en/latest/moment/02-get-set/10-week/
// "The week of the year varies depending on which day is the first day of the
// week(Sunday, Monday, etc), and which week is the first week of the year"
export function isInCalendarWeek(timestamp, calendarWeek, year) {
  const date = moment(timestamp);

  // console.log('date', date);
  // console.log('week', date.week());
  // console.log('year', date.year());

  const week = date.week();
  const yearOfDate = date.year();

  return week === calendarWeek && yearOfDate === year;
}

export function getScansOfCalendarWeek(scans, calendarWeek, year) {
  return scans.filter((scan) => {
    return isInCalendarWeek(scan.importTime, calendarWeek, year);
  });
}

export function calculateColors(scans) {
  // TODO
  return scans;
}
